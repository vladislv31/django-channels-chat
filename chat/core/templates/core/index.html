{% extends 'core/base.html' %}

{% block content %}

<p>What chat room would you like to enter?</p>

<div class="mb-3">
	<label for="room-name-input" class="form-label">Room name</label>
	<input type="text" class="form-control" id="room-name-input">
</div>
<button type="submit" class="btn btn-primary" id="room-name-submit">Submit</button>

<script>
	document.querySelector('#room-name-input').focus();
	document.querySelector('#room-name-input').onkeyup = function(e) {
		if (e.keyCode === 13) {  // enter, return
			document.querySelector('#room-name-submit').click();
		}
	};

	document.querySelector('#room-name-submit').onclick = function(e) {
		var roomName = document.querySelector('#room-name-input').value;
		window.location.pathname = '/chat/' + roomName + '/';
	};
</script>

{% endblock %}
